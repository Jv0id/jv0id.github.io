<!DOCTYPE html>
<html>

{% include head.html %}

<body class="index">

{% include header.html %}
{% include docs_header.html %}
{% if page.title %}
{% include banner.html %}
{% endif %}
{{ content }}
<div>
  <button id="myBtn" title="Back to top" style="display: none;">Top</button>
</div>

<script type="text/javascript">
  // 页面加载后执行
  window.onload = function () {
    var totop = document.getElementById("myBtn");
    // 页面刷新的时候先隐藏
    totop.style.display = "none";
    $("#myBtn").click(function () {
      $('html,body').animate({scrollTop: '0px'}, 500);
    });
    // When the user scrolls down 20px from the top of the document, show the button
    window.onscroll = function () {
      scrollFunction()
    };

    function scrollFunction () {
      if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
        // document.getElementById("myBtn").style.display = "block";
        $('#myBtn').fadeIn();
      } else {
        // document.getElementById("myBtn").style.display = "none";
        $('#myBtn').fadeOut();
      }
    }
  }

</script>
<script type="text/javascript">
  $(function () {
    $.ajax({
      url: "/search.xml",
      dataType: "xml",
      success: function (xmlResponse) {
        var data = $("article", xmlResponse).map(function () {
          return {
            value: $("title", this).text() + ", " +
              ($.trim($("date", this).text())),
            desc: $("description", this).text(),
            url: $("url", this).text()
          };
        }).get();

        $("#j_search").autocomplete({
          source: data,
          minLength: 0,
          select: function (event, ui) {
            window.location.href = ui.item.url;
          }
        });
      }
    });
  });
</script>
{% include footer.html %}
</body>
</html>
